<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>All‑in‑One PDF Tools & Converters – ToolsPK</title>
<meta name="description" content="Free online PDF tools – merge, split, compress & edit PDFs. Plus unit & currency converters. All tools work in your browser with no file uploads at ToolsPK.">
<link rel="icon" href="/favicon.ico" type="image/x-icon">
<link rel="preconnect" href="https://unpkg.com">
<link rel="preconnect" href="https://cdnjs.cloudflare.com">
<style>
  :root{--pri:#007bff;--pri2:#0056b3;--bg:#f9f9f9;--card:#fff}
  *{box-sizing:border-box}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;margin:0;background:var(--bg);}
  header{background:var(--pri);padding:16px;color:#fff;text-align:center}
  h1{margin:0;font-size:1.9rem}
  .tagline{margin:6px 0 0;opacity:.9}
  nav{display:flex;flex-wrap:wrap;justify-content:center;background:var(--pri2)}
  nav a{color:#fff;padding:10px 14px;text-decoration:none;border-radius:8px}
  nav a:hover{background:#003f80}
  main{padding:10px}
  section{background:var(--card);padding:20px;margin:18px auto;border-radius:12px;max-width:1000px;box-shadow:0 2px 8px rgba(0,0,0,.08)}
  h2{margin-top:0;font-size:1.35rem}
  label,input,select,button{margin:8px 0}
  input,select{width:100%;padding:9px;border-radius:8px;border:1px solid #d0d7de;background:#fff}
  button{padding:10px 14px;background:var(--pri);color:#fff;border:0;border-radius:10px;cursor:pointer}
  button:hover{background:var(--pri2)}
  .small{font-size:.9rem;color:#555}
  .result{margin-top:10px;font-weight:600}
  .grid{display:grid;gap:14px}
  .pdf-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .pdf-row input[type=file]{flex:1}
  .inline{display:inline-block}
  .tool-section{margin-bottom:16px}
  .unit-container{display:flex;gap:20px;flex-wrap:wrap}
  .unit-form,.unit-result{flex:1;min-width:280px}
  .unit-result{background:#f4f6f9;padding:14px;border-radius:10px}
  .canvas-container{margin-top:12px;border:1px solid #ddd;border-radius:10px;overflow:auto;padding:8px;background:#fafafa}
  #pdfCanvas{max-width:100%;border:1px dashed #ddd;background:#fff}
  footer{background:var(--pri2);color:#fff;text-align:center;padding:16px;margin-top:40px}
</style>
</head>
<body>
<header>
  <h1>All‑in‑One PDF Tools & Converters</h1>
  <p class="tagline">Free Online Utilities by ToolsPK – 100% Local in Your Browser</p>
</header>
<nav aria-label="Main navigation">
  <a href="#pdfTools">PDF Tools</a>
  <a href="#pdfEditor">PDF Editor</a>
  <a href="#unitConverter">Unit Converter</a>
  <a href="#currencyConverter">Currency Converter</a>
</nav>

<main>
  <!-- PDF TOOLS -->
  <section id="pdfTools">
    <h2>Free PDF Tools – Merge, Split & Compress</h2>
    <p class="small">All operations happen locally. Your files never leave your device.</p>

    <!-- MERGE -->
    <div class="tool-section">
      <label><strong>Merge PDFs</strong></label>
      <div class="pdf-row">
        <input id="mergeFilesInput" type="file" accept="application/pdf" multiple />
        <button id="mergeBtn" class="inline">Merge</button>
      </div>
      <div id="mergeList" class="small"></div>
    </div>

    <hr>

    <!-- SPLIT -->
    <div class="tool-section">
      <label><strong>Split PDF (Select Page Range)</strong></label>
      <div class="pdf-row">
        <input id="splitFileInput" type="file" accept="application/pdf" />
        <input id="fromPage" type="number" min="1" placeholder="From" style="width:90px" />
        <input id="toPage" type="number" min="1" placeholder="To" style="width:90px" />
        <button id="splitBtn" class="inline">Split</button>
      </div>
      <div id="splitInfo" class="small"></div>
    </div>

    <hr>

    <!-- COMPRESS -->
    <div class="tool-section">
      <label><strong>Compress PDF (Basic – rasterizes pages)</strong></label>
      <div class="pdf-row">
        <input id="compressFileInput" type="file" accept="application/pdf" />
        <select id="compressQuality" style="width:150px">
          <option value="0.6">Quality 60% (smallest)</option>
          <option value="0.7" selected>Quality 70%</option>
          <option value="0.85">Quality 85% (bigger)</option>
        </select>
        <button id="compressBtn" class="inline">Compress</button>
      </div>
      <div id="compressInfo" class="small"></div>
      <p class="small">Note: This method turns each page into an image to shrink size. Text becomes non-selectable. For true lossless compression, use a desktop tool.</p>
    </div>
  </section>

  <!-- PDF EDITOR -->
  <section id="pdfEditor">
    <h2>Online PDF Editor – Add Text & Images</h2>

    <div class="tool-section">
      <label><strong>Upload PDF to Edit</strong></label>
      <div class="pdf-row">
        <input id="editFileInput" type="file" accept="application/pdf" />
        <button id="loadPdfBtn" class="inline">Load PDF</button>
      </div>
      <div id="pdfInfo" class="small"></div>
    </div>

    <div id="editorControls" style="display:none;" class="grid">
      <div class="tool-section">
        <label><strong>Add Text</strong></label>
        <input type="text" id="textToAdd" placeholder="Enter text" />
        <div class="pdf-row">
          <input type="number" id="textX" placeholder="X" style="width:90px" min="0" value="50" />
          <input type="number" id="textY" placeholder="Y" style="width:90px" min="0" value="50" />
          <input type="number" id="textSize" placeholder="Size" style="width:90px" min="8" value="16" />
          <input type="color" id="textColor" value="#000000" style="width:60px;height:34px;padding:0" />
          <button id="addTextBtn" class="inline">Add Text</button>
        </div>
      </div>

      <div class="tool-section">
        <label><strong>Add Image (with Resize)</strong></label>
        <div class="pdf-row">
          <input id="imageToAdd" type="file" accept="image/*" />
          <input type="number" id="imgX" placeholder="X" style="width:90px" min="0" value="50" />
          <input type="number" id="imgY" placeholder="Y" style="width:90px" min="0" value="50" />
          <input type="number" id="imgWidth" placeholder="Width" style="width:110px" min="10" value="120" />
          <input type="number" id="imgHeight" placeholder="Height" style="width:110px" min="10" value="120" />
          <button id="addImageBtn" class="inline">Add Image</button>
        </div>
        <p class="small">Tip: Width/Height values directly control image size (resize feature).</p>
      </div>

      <div class="tool-section">
        <label><strong>Page</strong></label>
        <div class="pdf-row">
          <select id="pageSelector" style="flex:1">
            <option value="all">All Pages</option>
          </select>
          <button id="savePdfBtn" class="inline">Save Edited PDF</button>
        </div>
      </div>

      <div class="canvas-container">
        <canvas id="pdfCanvas"></canvas>
      </div>
      <div id="editorMsg" class="small"></div>
    </div>
  </section>

  <!-- UNIT CONVERTER -->
  <section id="unitConverter">
    <h2>Universal Unit Converter</h2>
    <div class="unit-container">
      <div class="unit-form">
        <label>Type:</label>
        <select id="unitType"></select>
        <label>Value:</label>
        <input type="number" id="unitValue" placeholder="Enter number" />
        <div style="display:flex;gap:8px;align-items:center;margin-top:8px">
          <select id="fromUnit" style="flex:1"></select>
          <div style="width:28px;text-align:center">→</div>
          <select id="toUnit" style="flex:1"></select>
        </div>
        <button id="unitConvertBtn" style="margin-top:12px">Convert</button>
      </div>
      <div class="unit-result">
        <h3>Result</h3>
        <div id="unitResultBox" class="result"></div>
        <div class="small">Supports length, weight, temperature, and time.</div>
      </div>
    </div>
  </section>

  <!-- CURRENCY CONVERTER -->
  <section id="currencyConverter">
    <h2>Live Currency Converter</h2>
    <label>Amount:</label>
    <input type="number" id="currencyAmount" placeholder="Enter amount" />
    <label>From:</label>
    <select id="currencyFrom"></select>
    <label>To:</label>
    <select id="currencyTo"></select>
    <button id="currencyBtn" style="margin-top:8px">Convert</button>
    <div class="result" id="currencyResult"></div>
    <p class="small">Rates via exchangerate.host (free & CORS‑enabled).</p>
  </section>
</main>

<footer>
  <p>© 2025 ToolsPK – Processed locally in your browser • Fast & Private</p>
</footer>

<!-- Libraries (keep order) -->
<script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<script>
// ============== Helpers ==============
const $ = (id) => document.getElementById(id);
const note = (el, msg) => (el.textContent = msg);

function readFileAsArrayBuffer(file){
  return new Promise((res, rej)=>{const r=new FileReader();r.onload=()=>res(r.result);r.onerror=rej;r.readAsArrayBuffer(file)});
}
function dataURLtoUint8Array(dataURL){
  const byteString = atob(dataURL.split(',')[1]);
  const ab = new ArrayBuffer(byteString.length);
  const ia = new Uint8Array(ab);
  for(let i=0;i<byteString.length;i++){ia[i]=byteString.charCodeAt(i);} 
  return ia;
}
function downloadBytes(bytes, name){ saveAs(new Blob([bytes], {type:'application/pdf'}), name); }

// pdf.js worker
pdfjsLib.GlobalWorkerOptions.workerSrc = "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";

// ============== PDF TOOLS ==============
(async function pdfTools(){
  const mergeFilesInput = $("mergeFilesInput");
  const mergeBtn = $("mergeBtn");
  const mergeList = $("mergeList");

  const splitFileInput = $("splitFileInput");
  const splitBtn = $("splitBtn");
  const splitInfo = $("splitInfo");
  const fromPage = $("fromPage");
  const toPage = $("toPage");

  const compressFileInput = $("compressFileInput");
  const compressBtn = $("compressBtn");
  const compressInfo = $("compressInfo");
  const compressQuality = $("compressQuality");

  // MERGE
  mergeBtn.addEventListener('click', async ()=>{
    try{
      const files = Array.from(mergeFilesInput.files||[]);
      if(!files.length) return note(mergeList, 'Please select PDF files.');
      note(mergeList, `Merging ${files.length} file(s)...`);
      const outDoc = await PDFLib.PDFDocument.create();
      for(let i=0;i<files.length;i++){
        const bytes = await readFileAsArrayBuffer(files[i]);
        const srcDoc = await PDFLib.PDFDocument.load(bytes);
        const pages = await outDoc.copyPages(srcDoc, srcDoc.getPageIndices());
        pages.forEach(p=>outDoc.addPage(p));
      }
      const pdfBytes = await outDoc.save();
      downloadBytes(pdfBytes, 'merged.pdf');
      note(mergeList, 'Done! Download should start.');
    }catch(e){ console.error(e); note(mergeList, 'Error: '+e.message); }
  });

  // SPLIT
  splitBtn.addEventListener('click', async ()=>{
    try{
      const f = splitFileInput.files?.[0];
      if(!f) return note(splitInfo, 'Please choose a PDF.');
      const from = parseInt(fromPage.value||'1');
      const to = parseInt(toPage.value||from);
      const bytes = await readFileAsArrayBuffer(f);
      const src = await PDFLib.PDFDocument.load(bytes);
      const total = src.getPageCount();
      const a = Math.max(1, Math.min(from, total));
      const b = Math.max(1, Math.min(to, total));
      const start = Math.min(a,b)-1, end = Math.max(a,b)-1;
      const out = await PDFLib.PDFDocument.create();
      const pages = await out.copyPages(src, Array.from({length:end-start+1}, (_,i)=>i+start));
      pages.forEach(p=>out.addPage(p));
      const outBytes = await out.save();
      downloadBytes(outBytes, `split_${start+1}-${end+1}.pdf`);
      note(splitInfo, `Extracted pages ${start+1}–${end+1} of ${total}.`);
    }catch(e){ console.error(e); note(splitInfo, 'Error: '+e.message); }
  });

  // COMPRESS (rasterize via pdf.js)
  compressBtn.addEventListener('click', async ()=>{
    try{
      const f = compressFileInput.files?.[0];
      if(!f) return note(compressInfo, 'Please choose a PDF.');
      const q = parseFloat(compressQuality.value || '0.7');
      note(compressInfo, 'Compressing… (rasterizing pages)');
      const bytes = new Uint8Array(await readFileAsArrayBuffer(f));
      const doc = await pdfjsLib.getDocument({data: bytes}).promise;
      const out = await PDFLib.PDFDocument.create();
      for(let p=1;p<=doc.numPages;p++){
        const page = await doc.getPage(p);
        const viewport = page.getViewport({scale: 1});
        const scale = Math.max(0.3, Math.min(1, q)); // reduce resolution with quality
        const canvas = document.createElement('canvas');
        canvas.width = Math.floor(viewport.width*scale);
        canvas.height = Math.floor(viewport.height*scale);
        const ctx = canvas.getContext('2d');
        await page.render({canvasContext: ctx, viewport: page.getViewport({scale})}).promise;
        const dataURL = canvas.toDataURL('image/jpeg', q);
        const imgBytes = dataURLtoUint8Array(dataURL);
        const jpg = await out.embedJpg(imgBytes);
        const outPage = out.addPage([viewport.width, viewport.height]);
        outPage.drawImage(jpg, {x:0,y:0,width:viewport.width,height:viewport.height});
      }
      const outBytes = await out.save();
      downloadBytes(outBytes, 'compressed.pdf');
      note(compressInfo, 'Done! Download should start.');
    }catch(e){ console.error(e); note(compressInfo, 'Error: '+e.message); }
  });
})();

// ============== PDF EDITOR ==============
(function pdfEditor(){
  let originalPdfBytes = null;
  let pdfDocProxy = null; // pdf.js document
  let currentPageIndex = 0; // 0-based
  const annotations = []; // {type:'text'|'image', pageIndex, x,y,w,h,size,color, imgBytes}

  const editFileInput = $("editFileInput");
  const loadPdfBtn = $("loadPdfBtn");
  const pdfInfo = $("pdfInfo");
  const editorControls = $("editorControls");
  const pageSelector = $("pageSelector");
  const pdfCanvas = $("pdfCanvas");
  const ctx = pdfCanvas.getContext('2d');
  const editorMsg = $("editorMsg");

  async function renderPage(index){
    if(!pdfDocProxy) return;
    const page = await pdfDocProxy.getPage(index+1);
    const viewport = page.getViewport({scale: 1});
    const scale = Math.min(1.5, Math.max(0.8, 1000/viewport.width)); // fit max width ~1000
    const vp = page.getViewport({scale});
    pdfCanvas.width = vp.width; pdfCanvas.height = vp.height;
    ctx.fillStyle = '#fff'; ctx.fillRect(0,0,pdfCanvas.width,pdfCanvas.height);
    await page.render({canvasContext: ctx, viewport: vp}).promise;

    // draw local annotations for this page (preview)
    const pageAnn = annotations.filter(a=>a.pageIndex===index);
    for(const a of pageAnn){
      if(a.type==='text'){
        ctx.fillStyle = a.color||'#000';
        ctx.font = `${a.size||16}px sans-serif`;
        ctx.fillText(a.text, a.x, a.y);
      }else if(a.type==='image' && a.imgBitmap){
        ctx.drawImage(a.imgBitmap, a.x, a.y, a.w, a.h);
      }
    }
  }

  function canvasToPdfCoords(xCanvas, yCanvas, pageWidth, pageHeight){
    // canvas (0,0) top-left; pdf-lib origin bottom-left
    const yPdf = pageHeight - yCanvas; // later adjust with text height when drawing text
    return {x: xCanvas, y: yPdf};
  }

  loadPdfBtn.addEventListener('click', async ()=>{
    try{
      const f = editFileInput.files?.[0];
      if(!f) return note(pdfInfo, 'Please choose a PDF file.');
      originalPdfBytes = new Uint8Array(await readFileAsArrayBuffer(f));
      pdfDocProxy = await pdfjsLib.getDocument({data: originalPdfBytes}).promise;
      note(pdfInfo, `Loaded: ${f.name} • Pages: ${pdfDocProxy.numPages}`);
      // page selector
      pageSelector.innerHTML = '<option value="all">All Pages</option>' +
        Array.from({length: pdfDocProxy.numPages}, (_,i)=>`<option value="${i}">Page ${i+1}</option>`).join('');
      currentPageIndex = 0;
      editorControls.style.display = 'block';
      await renderPage(currentPageIndex);
    }catch(e){ console.error(e); note(pdfInfo,'Error: '+e.message); }
  });

  pageSelector.addEventListener('change', async (e)=>{
    const v = pageSelector.value;
    if(v==='all'){ currentPageIndex = 0; }
    else{ currentPageIndex = parseInt(v,10); }
    await renderPage(currentPageIndex);
  });

  $("addTextBtn").addEventListener('click', async ()=>{
    const text = $("textToAdd").value||'';
    if(!text) return note(editorMsg,'Enter some text.');
    const x = parseFloat($("textX").value||'0');
    const y = parseFloat($("textY").value||'0');
    const size = parseInt($("textSize").value||'16',10);
    const color = $("textColor").value||'#000000';
    const target = pageSelector.value==='all' ? 'all' : parseInt(pageSelector.value,10);

    if(target==='all'){
      const n = pdfDocProxy.numPages;
      for(let i=0;i<n;i++) annotations.push({type:'text',pageIndex:i,x,y,size,color,text});
    }else{
      annotations.push({type:'text',pageIndex:target,x,y,size,color,text});
    }
    note(editorMsg,'Text added. It will appear on save.');
    await renderPage(currentPageIndex);
  });

  $("addImageBtn").addEventListener('click', async ()=>{
    const file = $("imageToAdd").files?.[0];
    if(!file) return note(editorMsg,'Choose an image.');
    const x = parseFloat($("imgX").value||'0');
    const y = parseFloat($("imgY").value||'0');
    const w = parseFloat($("imgWidth").value||'100');
    const h = parseFloat($("imgHeight").value||'100');
    const target = pageSelector.value==='all' ? 'all' : parseInt(pageSelector.value,10);
    const imgURL = URL.createObjectURL(file);
    const bitmap = await createImageBitmap(await (await fetch(imgURL)).blob());
    URL.revokeObjectURL(imgURL);

    if(target==='all'){
      const n = pdfDocProxy.numPages;
      for(let i=0;i<n;i++) annotations.push({type:'image',pageIndex:i,x,y,w,h,imgFile:file, imgBitmap:bitmap});
    }else{
      annotations.push({type:'image',pageIndex:target,x,y,w,h,imgFile:file, imgBitmap:bitmap});
    }
    note(editorMsg,'Image added (resize via width/height). It will appear on save.');
    await renderPage(currentPageIndex);
  });

  $("savePdfBtn").addEventListener('click', async ()=>{
    try{
      if(!originalPdfBytes) return;
      const out = await PDFLib.PDFDocument.load(originalPdfBytes);
      const n = out.getPageCount();

      for(const a of annotations){
        const page = out.getPage(a.pageIndex);
        const { width: pw, height: ph } = page.getSize();
        if(a.type==='text'){
          const coords = canvasToPdfCoords(a.x, a.y, pw, ph);
          const font = await out.embedFont(PDFLib.StandardFonts.Helvetica);
          page.drawText(a.text, {
            x: coords.x,
            y: coords.y - (a.size||16), // adjust baseline
            size: a.size||16,
            color: PDFLib.rgb(
              parseInt(a.color.slice(1,3),16)/255,
              parseInt(a.color.slice(3,5),16)/255,
              parseInt(a.color.slice(5,7),16)/255
            ),
            font
          });
        }else if(a.type==='image'){
          const buf = await a.imgFile.arrayBuffer();
          // try both formats
          let img; const type = a.imgFile.type || '';
          if(type.includes('png')) img = await out.embedPng(new Uint8Array(buf));
          else img = await out.embedJpg(new Uint8Array(buf));
          const coords = canvasToPdfCoords(a.x, a.y, pw, ph);
          page.drawImage(img, { x: coords.x, y: coords.y - a.h, width: a.w, height: a.h });
        }
      }

      const outBytes = await out.save();
      downloadBytes(outBytes, 'edited.pdf');
      note(editorMsg, 'Saved! Download should start.');
    }catch(e){ console.error(e); note(editorMsg, 'Error: '+e.message); }
  });
})();

// ============== UNIT CONVERTER ==============
(function unitConverter(){
  const unitType = $("unitType");
  const unitValue = $("unitValue");
  const fromUnit = $("fromUnit");
  const toUnit = $("toUnit");
  const unitResultBox = $("unitResultBox");
  $("unitConvertBtn").addEventListener('click', convertUnit);

  const UNITS = {
    length: { m:1, km:1000, cm:0.01, mm:0.001, in:0.0254, ft:0.3048, yd:0.9144, mi:1609.344 },
    weight: { g:1, kg:1000, lb:453.59237, oz:28.349523125 },
    time:   { sec:1, min:60, hr:3600, day:86400 },
  };
  const TEMP = ['C','F','K'];

  const typeOptions = [ ['length','Length'], ['weight','Weight'], ['temperature','Temperature'], ['time','Time'] ];
  unitType.innerHTML = typeOptions.map(([v,l])=>`<option value="${v}">${l}</option>`).join('');

  function populateUnits(){
    const t = unitType.value;
    if(t==='temperature'){
      fromUnit.innerHTML = TEMP.map(u=>`<option value="${u}">${u}</option>`).join('');
      toUnit.innerHTML = fromUnit.innerHTML;
    } else {
      const obj = UNITS[t];
      fromUnit.innerHTML = Object.keys(obj).map(u=>`<option value="${u}">${u}</option>`).join('');
      toUnit.innerHTML = fromUnit.innerHTML;
    }
  }
  unitType.addEventListener('change', populateUnits);
  populateUnits();

  function convertUnit(){
    const val = parseFloat(unitValue.value);
    if(Number.isNaN(val)) return unitResultBox.textContent = 'Enter a number.';
    const t = unitType.value, a = fromUnit.value, b = toUnit.value;
    if(t==='temperature'){
      let c; // to C
      if(a==='C') c = val; else if(a==='F') c = (val - 32) * 5/9; else c = val - 273.15;
      let out; if(b==='C') out = c; else if(b==='F') out = c*9/5 + 32; else out = c + 273.15;
      unitResultBox.textContent = `${val} ${a} = ${out.toFixed(4)} ${b}`;
      return;
    }
    const base = UNITS[t];
    const inMeters = val * base[a];
    const res = inMeters / base[b];
    unitResultBox.textContent = `${val} ${a} = ${res.toFixed(6)} ${b}`;
  }
})();

// ============== CURRENCY CONVERTER ==============
(async function currency(){
  const amount = $("currencyAmount");
  const from = $("currencyFrom");
  const to = $("currencyTo");
  const out = $("currencyResult");
  $("currencyBtn").addEventListener('click', convert);

  // Load symbols
  try{
    const symRes = await fetch('https://api.exchangerate.host/symbols');
    const sym = await symRes.json();
    const opts = Object.keys(sym.symbols||{USD:{description:'US Dollar'},PKR:{description:'Pakistani Rupee'},EUR:{description:'Euro'},AED:{description:'UAE Dirham'}});
    const html = opts.sort().map(k=>`<option value="${k}">${k}</option>`).join('');
    from.innerHTML = html; to.innerHTML = html;
    from.value = 'PKR'; to.value = 'USD';
  }catch{ from.innerHTML = '<option>PKR</option><option>USD</option><option>EUR</option><option>AED</option>'; to.innerHTML = from.innerHTML; }

  async function convert(){
    const amt = parseFloat(amount.value||'0');
    if(Number.isNaN(amt) || amt<=0) return out.textContent = 'Enter a valid amount.';
    try{
      const url = `https://api.exchangerate.host/convert?from=${from.value}&to=${to.value}&amount=${amt}`;
      const r = await fetch(url);
      const j = await r.json();
      if(!j || j.result==null) throw new Error('No result');
      out.textContent = `${amt} ${from.value} = ${j.result.toFixed(4)} ${to.value}`;
    }catch(e){ out.textContent = 'Conversion failed: '+e.message; }
  }
})();
</script>
</body>
</html>
